(this.webpackJsonpiCountApp=this.webpackJsonpiCountApp||[]).push([[95],{3254:function(e,t,a){"use strict";a.r(t),a.d(t,"Setting",(function(){return D}));var s=a(0),c=a(567),n=a(486),l=a(487),i=a(503),r=a(277),o=a(480),d=a(565),u=a(934),j=a(1142),h=a(1143),b=a(1144),p=a(428),m=a(1145),x=a(314),y=a(94),O=a(134),v=a(156),g=a(2);var f=({systemData:e})=>{const{settings:t,settingsLoading:a}=e,[c,n]=Object(s.useState)([]),[l,i]=Object(s.useState)(!0),[f,k]=Object(s.useState)([{key:"product_code",title:"Product Code",icon:j.a,desc:"Allow Each Product to have an extra text field for product code.",boolean:!0,allow:!1},{key:"category",title:"Category",icon:h.a,desc:"Allow Each Product to have a category and brand on product table.",boolean:!0,allow:!1},{key:"brand",title:"Brand",icon:b.a,desc:"Allow Each Product to have a category and brand on product table.",boolean:!0,allow:!1},{key:"purchases",title:"Purchased Allocation",icon:p.a,option1:"Purchase for a specific store then purchased products goes in stock of specified store.",option2:"Purchase once for all stores then distribute purchased products to store one by one.",options:!0,checked:null},{key:"prices",title:"Products Prices",icon:m.a,option1:"Prices of Carton, packet or dozen varies according to Sale or purchase price of one piece",option2:"Carton, packet or dozen have their own prices, independent to price of one piece. ",options:!0,checked:null}]);if(!a){let e=[],a="",s=!1;if(t.docs.map((t=>(e={...e,[t.data()._id]:{value:t.data().value}},a=t.data()._id,s=!c[a]||c[a].value!==t.data().value||s,!0))),s||a&&(l||!c[a])){n(e),i(!1);let t=f.map((t=>(e[t.key]&&(t.options?t.checked=e[t.key].value:t.allow=e[t.key].value),t)));k([...t])}}const w=(e,t)=>{r.b.loading({content:"Saving...",key:"key"});let a=t.target?t.target.value:t;const s=f.map((t=>(t.key===e&&(t.options?t.checked=a:t.allow=a),t)));k([...s]),setTimeout((()=>{v.a.create({value:a},e),r.b.success({content:"Changes Saved!",key:"key",duration:2})}),1e3)},N={display:"block",height:"35px",lineHeight:"35px"};return Object(g.jsx)(o.b,{itemLayout:"horizontal",dataSource:f,renderItem:e=>Object(g.jsx)(o.b.Item,{children:Object(g.jsxs)(O.a,{justifyContent:"between",alignItems:"center",className:"w-100",children:[Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)(y.b,{className:"h1 mb-0 text-primary",type:e.icon}),Object(g.jsxs)("div",{className:"ml-3",children:[Object(g.jsx)("h4",{className:"mb-0",children:e.title}),e.boolean?Object(g.jsx)("p",{children:e.desc}):null,e.options?Object(g.jsxs)(d.a.Group,{onChange:t=>{w(e.key,t)},value:e.checked,className:"ml-1",children:[Object(g.jsx)(d.a,{style:N,value:1,children:e.option1}),Object(g.jsx)(d.a,{style:N,value:2,children:e.option2})]}):null]})]}),e.boolean?Object(g.jsxs)("div",{className:"ml-3",children:[Object(g.jsx)(u.a,{defaultChecked:e.allow,onChange:t=>{w(e.key,t)}}),!l&&c[e.key]?null:Object(g.jsx)(x.a,{})]}):null]})})})},k=a(543),w=a(548),N=a(564);const S=[{key:"cashOpeningBalance",title:"Cash Opening Balance",type:1},{key:"momoOpeningBalance",title:"Momo Opening Balance",type:1},{key:"reminderDuration",title:"Todays Notification Reminder",type:2}];var C=a(483);var P=({systemData:e})=>{const[t]=k.a.useForm(),[a,c]=Object(s.useState)(!1),[o,d]=Object(s.useState)(!1),[u,j]=Object(s.useState)(""),[h,b]=Object(s.useState)(""),[p,m]=Object(s.useState)(""),{setting:x,setsLoading:y}=e;return Object(g.jsxs)(n.a,{gutter:16,children:[S.map((e=>Object(g.jsx)(l.a,{xs:24,sm:24,md:8,children:Object(g.jsx)(i.a,{hoverable:!0,onClick:()=>{var a;j((a=e).key),m(a.type),b(a.title),t.setFieldsValue(!y&&x[a.key]?{value:a.value}:{value:null}),c(!0)},children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("h3",{children:!y&&x[e.key]?1===e.type?Object(g.jsx)(C.a,{displayType:"text",value:x[e.key].value,suffix:" Rwf",thousandSeparator:!0}):parseInt(x[e.key].value)>0?`${x[e.key].value} Minute`+(x[e.key].value>1?"s":""):"Disabled":"-"}),Object(g.jsx)("h5",{className:"mt-4",children:e.title})]})})},e.key))),Object(g.jsx)(k.a,{form:t,component:!1,layout:"vertical",children:Object(g.jsx)(w.a,{title:h,visible:a,onOk:async e=>{try{let e=(await t.validateFields()).value;if(""===e)return;d(!0);let a={value:e};v.a.create(a,u),c(!1),d(!1),t.setFieldsValue({value:null}),r.b.success(`${h} set successfully`)}catch(a){}},confirmLoading:o,onCancel:()=>{c(!1),j(""),m(""),b(""),t.setFieldsValue({value:null})},children:Object(g.jsx)(n.a,{gutter:16,children:Object(g.jsxs)(l.a,{xs:24,sm:24,md:24,children:[1===p&&Object(g.jsx)(k.a.Item,{name:"value",label:"Value",rules:[{required:!0,message:"This field is required."}],children:Object(g.jsx)(N.a,{className:"w-100",min:0,parser:e=>e.replace(/\$\s?|(,*)/g,""),addonAfter:"Rwf",formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")})}),2===p&&Object(g.jsx)(k.a.Item,{name:"value",label:"Value",rules:[{required:!0,message:"This field is required."}],children:Object(g.jsx)(N.a,{className:"w-100",placeholder:"Enter Minutes",min:0,max:100})})]})})})})]})};class D extends s.Component{render(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c.a,{className:"bg-primary",overlap:!0,children:Object(g.jsx)("div",{className:"container text-center",children:Object(g.jsxs)("div",{className:"py-lg-4",children:[Object(g.jsx)("h1",{className:"text-white display-4",children:"System Settings"}),Object(g.jsx)(n.a,{type:"flex",justify:"center",children:Object(g.jsx)(l.a,{xs:24,sm:24,md:12,children:Object(g.jsx)("p",{className:"text-white w-75 text-center mt-2 mb-4 mx-auto"})})})]})})}),Object(g.jsx)("div",{className:"container mt-5",children:Object(g.jsx)(n.a,{gutter:16,children:Object(g.jsx)(l.a,{xs:24,sm:24,md:24,lg:24,children:Object(g.jsx)(P,{systemData:this.props.systemData})})})}),Object(g.jsx)(i.a,{children:Object(g.jsx)(f,{systemData:this.props.systemData})})]})}}t.default=D},567:function(e,t,a){"use strict";var s=a(0),c=a(46),n=a(36),l=a(2);t.a=Object(c.b)((({theme:e})=>{const{navType:t}=e;return{navType:t}}),{})((({children:e,background:t,className:a,overlap:c,navType:i})=>{const[r,o]=Object(s.useState)(0),d=Object(s.useRef)(null);Object(s.useEffect)((()=>{if(i===n.d){const e=window.innerWidth,t=d.current.offsetWidth;o((e-t)/2)}}),[i]);return Object(l.jsx)("div",{ref:d,className:`page-header-alt ${a||""} ${c&&"overlap"}`,style:(()=>{let e={backgroundImage:t?`url(${t})`:"none"};return i===n.d&&(e.marginRight=-r,e.marginLeft=-r,e.paddingLeft=0,e.paddingRight=0),e})(),children:i===n.d?Object(l.jsx)("div",{className:"container",children:e}):Object(l.jsx)(l.Fragment,{children:e})})}))}}]);
//# sourceMappingURL=95.5aac3454.chunk.js.map